<p id="notice"><%= notice %></p>

<h1>Articles</h1>

<%= link_to "Lanci", launches_path, action: :get %>
<br><br>

<div>
  <%= form_with url: articles_path, method: :get do |form| %>
    <%= form.label :find, "Cerca:" %>
    <%= form.text_field :find, {value: (session[:find].nil? ? '':session[:find]) , onchange: 'this.form.submit()'} %>
    <%= form.submit "cerca", name:nil %>
    Mostra:
    <%= form.check_box :local, {checked: (session[:local]=='1' ? true:false), onchange: 'this.form.submit()'},1 ,nil %>
    <%= form.label :local, 'interni' %>
    <%= form.check_box :ext, {checked: (session[:ext]=='1' ? true:false), onchange: 'this.form.submit()'}, 1, nil %>
    <%= form.label :ext, 'esterni' %>
     <%= form.hidden_field :commit, :value => 'update' %>
  <% end %>

</div>

<table>
  <thead>
    <tr>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @articles.each do |article| %>
      <tr>
        <td>
          <div>
            <%= if article.local==true
        	  link_to article.title, article
        	  else
        	  link_to article.title, article.url 
        	  end %> |
            <%= link_to "commenti", comments_url(article) %>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%== pagy_nav(@pagy) %>
<!== %= link_to 'New Article', new_article_path %>